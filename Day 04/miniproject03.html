<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrollspy | jQuery</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">    

    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: all 300ms ease;
        }
        body{
            
            background-color: white;
        }
        main{
            margin: 20px;
            padding: 10px 20px;
            display: flex;
            justify-content: center;
            
        }
        aside{
            margin: 10px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            flex-direction: column;
        }
        .side-navbar{
            width: 20%;
            display: flex;
            /* justify-content: center; */
            /* align-items: center; */
            flex-direction: column;
        }
        .navbar{
            width: 100%;
            display: flex;
            justify-content: space-evenly;
        }
        .side-navbar a,.navbar a{
            text-decoration: none;
            color: black;
            margin: 10px;
            font-size: x-large;
            padding: 10px 20px;
        }
        .side-navbar a:hover,.side-navbar a.active,.navbar a:hover,.navbar a.active{
            background-color: #2D6EFD;
            color: white;
            border-radius: 5px;
        }

        .main-content{
            width: 70%;
            height: 300px;
            overflow: hidden scroll;
            padding: 10px 20px;
            scroll-behavior: smooth;
        }
        .content{
            width: 100%;
            height: 400px;
            overflow: hidden scroll;
            padding: 10px 20px;
            scroll-behavior: smooth;
        }
        #red,#green,#blue{
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 30px;
            font-weight: 900;
            
        }
        #red{
            background-color: red;
        }
        #green{
            background-color: green;
        }
        #blue{
            background-color: blue;
        }
        .items,.items h3,.items p{
            padding: 10px 20px;
            text-align: justify;
        }
        .items{
            min-height: 300px;
        }
        .progress{
            position: fixed;
            margin: 0;
            padding: 0;
        }
        



    </style>
</head>
<body>
    
    <div class="progress">
        <div class="progress-bar" role="progressbar" aria-label="Basic example" aria-valuenow="25"
            aria-valuemin="0" aria-valuemax="100" id="scrollspy"> </div>
    </div>
   <main>
        <div class="side-navbar">
            <a href="#item1" id="a1" class="active">Item 1</a>
            <a href="#item2" id="a2">Item 2</a>
            <a href="#item3" id="a3">Item 3</a>
        </div>
        <div class="main-content">
            <div class="items" id="item1">
                <h3>Item 1</h3>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sit expedita cupiditate suscipit voluptatum quos,
                    iure, laudantium a harum nihil, eos minus esse commodi blanditiis totam perferendis cum iusto architecto
                    distinctio.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque magni fugit corporis reprehenderit reiciendis
                    et
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vero blanditiis voluptates autem necessitatibus ipsum alias natus, perferendis ipsa sed non perspiciatis quo soluta? Id eum aliquam fuga blanditiis optio inventore?
                    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Cupiditate doloremque quod dicta facilis voluptatem dolorum atque repellat officiis sint, magnam officia quos debitis est expedita quasi temporibus aspernatur quis porro.
                </p>
                <span></span>
            </div>
            <div class="items" id="item2">
                <h3>Item 2</h3>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sit expedita cupiditate suscipit voluptatum quos,
                    iure,
                    laudantium a harum nihil, eos minus esse commodi blanditiis totam perferendis cum iusto architecto
                    distinctio.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque magni fugit corporis reprehenderit reiciendis
                    et Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptatibus eius perferendis velit aliquam sed eos corrupti aut nisi iste sint veniam deleniti a, dolores saepe explicabo magni debitis quam. Deserunt! Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquid iure illum earum unde excepturi dolor beatae eos laborum esse ratione ipsum inventore qui architecto itaque mollitia minima quod, rem neque.
                </p>
                <span></span>
            </div>
            <div class="items" id="item3">
                <h3>Item 3</h3>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sit expedita cupiditate suscipit voluptatum quos,
                    iure,
                    laudantium a harum nihil, eos minus esse commodi blanditiis totam perferendis cum iusto architecto
                    distinctio.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque magni fugit corporis reprehenderit reiciendis
                    et Lorem ipsum dolor, sit amet consectetur adipisicing elit. Culpa eos aut quae voluptatem voluptatum, iure autem nostrum placeat quod dolore praesentium nobis quasi voluptates dicta et, rerum vero vitae aperiam? Lorem ipsum, dolor sit amet consectetur adipisicing elit. Mollitia in officiis, ad ullam eum labore dolorum ab, cum accusamus pariatur maxime sint, non unde fuga distinctio neque nisi veniam aliquam.
                    
                </p>
                <span></span>
            </div>
        </div>
   </main>
   <aside>
        <div class="navbar">
            <a href="#red" id="b1" class="active">Red</a>
            <a href="#green" id="b2">Green</a>
            <a href="#blue" id="b3">Blue</a>
        </div>
        <div class="content">
            <div id="red">Red</div>
            <div id="green">Green</div>
            <div id="blue">Blue</div>
        </div>
   </aside>
   <div class="sec-1"></div>
   <div class="sec-1"></div>
   <div class="sec-1"></div>
   <div class="footer"></div>

   <script>
        var value = 0;
        $(document).ready(function(){
            
            $("#scrollspy").css("width",`${value}%`)
            $(".sec-1").css({
                // width : '100%',
                height : '500px',
                backgroundColor : 'blue',
                color : 'white',
                display : 'flex',
                justifyContent : 'center',
                alignItems : 'center',
                fontSize : '50px',
                margin: '15px 20px'
            }).text("Section 1")
            $(".footer").css({
                height: '300px',
                backgroundColor : 'black',
                color : 'white',
                fontSize : '45px',
                display: 'flex',
                justifyContent: 'center',
                alignItems: 'center'
            }).text("Footer")
            $(".side-navbar a").on("scroll",function(){
                $(this).addClass("active")
                $(this).siblings().removeClass("active")
            })
            $(".navbar a").on("scroll", function () {
                $(this).addClass("active")
                $(this).siblings().removeClass("active")
            })
            $(".content").on("scroll", function () {
                console.log($("#red").position().top)
                if ($("#red").position().top > 210) {
                    console.log("If called ==>")
                    $("#b1").trigger("scroll")
                }
                if ($("#green").position().top < 600) {
                    console.log("If called ==>")
                    $("#b2").trigger("scroll")
                }
                if ($("#blue").position().top < 600) {
                    console.log("If called ==>")
                    $("#b3").trigger("scroll")
                }
            })

            $(".main-content").on("scroll",function(){
                console.log($("#item2").position().top)
                
                if ($("#item1").position().top < 150 ) {
                    console.log("If called ==>")
                    $("#a1").trigger("scroll")
                }
                if($("#item2").position().top < 150){
                    console.log("If called ==>")
                    $("#a2").trigger("scroll")
                }
                if ($("#item3").position().top < 150) {
                    console.log("If called ==>")
                    $("#a3").trigger("scroll")
                }
            })

            $(window).scroll(function(){
                value = $(this).scrollTop()
                $("#scrollspy").css("width",`${value}`)
            })
            // console.log($(".items"))
            // $("#a2").on("click",function(){
            //     $("#item2").animate({
            //         scrollTop : $(this).offset().top
            //     })
            // })
        })
   </script>
</body>
</html>